# HDR 与 LDR
* LDR文件  ：是指低动态范围图像格式(LDR)：*.jpeg - *.tiff - *.RAW 等, 每个数据8位,值域: 0-
* HDR文件  ：指高动态范围图像格式(HDR)：*.hdr 或 *.exr(OpenExr), 每个数据 32 位

# HDR 显示
* https://towardsdatascience.com/hdr-imaging-what-is-an-hdr-image-anyway-bdf05985492c
* 去线性化/伽马校正：原始图像 -> 显示图像需要做一次非线性校正; 大多显示器的伽马解码为2.2，因此必须使用0.45（1 / 2.2）的伽玛值对图像进行编码
* 色调映射：大多数现成的显示设备无法提供范围广泛的HDR图像。他们希望输入源采用三通道24位（3x8）RGB格式，由于这个原因，需要调低宽动态范围

# 导出
* Unity 中 Bake 出的 Lightmap 为 .exr, 为 HDR
* 映射函数即为 HDR转换LDR函数 用于导出

* 32位浮点数据映射到8位数据空间，对应数据有损压缩，数据精度减小,必然存在数据丢失的情况
* 要尽可能减小损失:
    * 原本的亮度数据就没有超出 8位数据空间,此时直接可以直接导出,不存在损失
    * 亮度数据超出8位数据空间
        - 大多数数据为高亮数据,则可以选择一个倾向于高亮度的 HDR-LDR 转换函数
        - 大多数数据为低亮数据,则可以选择一个倾向于低亮度的 HDR-LDR 转换函数

* 映射算法直接截取 8 位数据空间范围内地值
    - 则更高亮度的不同亮度情况,渲染结果将完全一样

* 最简单的色调映射算法是Reinhard色调映射 
    - https://learnopengl-cn.github.io/05%20Advanced%20Lighting/06%20HDR/
    - Reinhard色调映射算法 平均地 将所有亮度值分散到LDR上
    - 这个算法是倾向明亮的区域

* Unity 中 渲染时 内置 Shader 已经处理
* 导出时转换出结果,使得保存于 RGBA, 渲染时直接使用